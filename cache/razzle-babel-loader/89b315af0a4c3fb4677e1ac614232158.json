{"ast":null,"code":"var _jsxFileName = \"/Users/griecomv/unet-bingo/with-react-router/src/server/server.js\";\nvar __jsx = React.createElement;\nimport App from '../client/App';\nimport React from 'react';\nimport express from 'express';\nimport { renderToString } from 'react-dom/server';\nimport { StaticRouter } from 'react-router-dom';\n\nconst assets = require(process.env.RAZZLE_ASSETS_MANIFEST);\n\nconst server = express();\nexport const renderApp = (req, res) => {\n  const context = {};\n  const markup = renderToString(__jsx(StaticRouter, {\n    location: req.url,\n    context: context,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, __jsx(App, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  })));\n  const html = // prettier-ignore\n  `<!doctype html>\n  <html lang=\"\">\n  <head>\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n      <meta charSet='utf-8' />\n      <title>Welcome to Razzle</title>\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n      ${assets.client.css ? `<link rel=\"stylesheet\" href=\"${assets.client.css}\">` : ''}\n  </head>\n  <body>\n      <div id=\"root\">${markup}</div>\n      <!-- razzle_static_js -->\n      <script src=\"${assets.client.js}\" defer crossorigin></script>\n  </body>\n</html>`;\n  return {\n    html,\n    context\n  };\n};\nserver.disable('x-powered-by').use(express.static(process.env.RAZZLE_PUBLIC_DIR)).get('/*', (req, res) => {\n  const {\n    html,\n    context\n  } = renderApp(req, res);\n\n  if (context.url) {\n    // Somewhere a `<Redirect>` was rendered\n    return res.redirect(301, context.url);\n  }\n\n  res.send(html);\n});\nexport default server;","map":{"version":3,"sources":["/Users/griecomv/unet-bingo/with-react-router/src/server/server.js"],"names":["App","React","express","renderToString","StaticRouter","assets","require","process","env","RAZZLE_ASSETS_MANIFEST","server","renderApp","req","res","context","markup","url","html","client","css","js","disable","use","static","RAZZLE_PUBLIC_DIR","get","redirect","send"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,eAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,YAAT,QAA6B,kBAA7B;;AAEA,MAAMC,MAAM,GAAGC,OAAO,CAACC,OAAO,CAACC,GAAR,CAAYC,sBAAb,CAAtB;;AAEA,MAAMC,MAAM,GAAGR,OAAO,EAAtB;AAEA,OAAO,MAAMS,SAAS,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;AACrC,QAAMC,OAAO,GAAG,EAAhB;AACA,QAAMC,MAAM,GAAGZ,cAAc,CAC3B,MAAC,YAAD;AAAc,IAAA,QAAQ,EAAES,GAAG,CAACI,GAA5B;AAAiC,IAAA,OAAO,EAAEF,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAD2B,CAA7B;AAMA,QAAMG,IAAI,GACR;AACC;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QACMZ,MAAM,CAACa,MAAP,CAAcC,GAAd,GACK,gCAA+Bd,MAAM,CAACa,MAAP,CAAcC,GAAI,IADtD,GAEI,EACH;AACP;AACA;AACA,uBAAuBJ,MAAO;AAC9B;AACA,qBAAqBV,MAAM,CAACa,MAAP,CAAcE,EAAG;AACtC;AACA,QApBE;AAsBA,SAAO;AAAEH,IAAAA,IAAF;AAAQH,IAAAA;AAAR,GAAP;AACD,CA/BM;AAiCPJ,MAAM,CACHW,OADH,CACW,cADX,EAEGC,GAFH,CAEOpB,OAAO,CAACqB,MAAR,CAAehB,OAAO,CAACC,GAAR,CAAYgB,iBAA3B,CAFP,EAGGC,GAHH,CAGO,IAHP,EAGa,CAACb,GAAD,EAAMC,GAAN,KAAc;AACvB,QAAM;AAAEI,IAAAA,IAAF;AAAQH,IAAAA;AAAR,MAAoBH,SAAS,CAACC,GAAD,EAAMC,GAAN,CAAnC;;AAEA,MAAIC,OAAO,CAACE,GAAZ,EAAiB;AACf;AACA,WAAOH,GAAG,CAACa,QAAJ,CAAa,GAAb,EAAkBZ,OAAO,CAACE,GAA1B,CAAP;AACD;;AAEDH,EAAAA,GAAG,CAACc,IAAJ,CAASV,IAAT;AACD,CAZH;AAcA,eAAeP,MAAf","sourcesContent":["import App from '../client/App';\nimport React from 'react';\nimport express from 'express';\nimport { renderToString } from 'react-dom/server';\nimport { StaticRouter } from 'react-router-dom';\n\nconst assets = require(process.env.RAZZLE_ASSETS_MANIFEST);\n\nconst server = express();\n\nexport const renderApp = (req, res) => {\n  const context = {};\n  const markup = renderToString(\n    <StaticRouter location={req.url} context={context}>\n      <App />\n    </StaticRouter>\n  );\n\n  const html =\n    // prettier-ignore\n    `<!doctype html>\n  <html lang=\"\">\n  <head>\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n      <meta charSet='utf-8' />\n      <title>Welcome to Razzle</title>\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n      ${\n      assets.client.css\n        ? `<link rel=\"stylesheet\" href=\"${assets.client.css}\">`\n        : ''\n      }\n  </head>\n  <body>\n      <div id=\"root\">${markup}</div>\n      <!-- razzle_static_js -->\n      <script src=\"${assets.client.js}\" defer crossorigin></script>\n  </body>\n</html>`;\n\n  return { html, context };\n};\n\nserver\n  .disable('x-powered-by')\n  .use(express.static(process.env.RAZZLE_PUBLIC_DIR))\n  .get('/*', (req, res) => {\n    const { html, context } = renderApp(req, res);\n\n    if (context.url) {\n      // Somewhere a `<Redirect>` was rendered\n      return res.redirect(301, context.url);\n    }\n\n    res.send(html);\n  });\n\nexport default server;\n"]},"metadata":{},"sourceType":"module"}